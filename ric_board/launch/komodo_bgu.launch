<?xml version="1.0" ?>
<launch>
  <group ns="komodo_1">
    <node name="RiCTraffic" output="screen" pkg="ric_board" type="Start.py" >
    	<remap from="diff_driver/command" to="cmd_vel" />
	<remap from="diff_driver/odometry" to="odom_pub" />
	<remap from="imu_AGQ" to="imu_pub" />
	<remap from="gps" to="gps_pub" />
	<remap from="left_urf" to="Rangers/Left_URF" />
	<remap from="right_urf" to="Rangers/Right_URF" />
	<remap from="rear_urf" to="Rangers/Rear_URF" />	
   </node>
    <include file="$(find ric_robot)/launch/elevator.launch"/>
    <param command="$(find xacro)/xacro.py '$(find ric_description)/komodo/komodo_elevator2.xacro'" name="robot_description"/>
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher"/>
    <include file="$(find openni2_launch)/launch/openni2.launch">
      <arg name="camera" value="Asus_Camera"/>
    </include>
    <node name="hokuyo_node" output="screen" pkg="hokuyo_node" type="hokuyo_node">
      <param name="port" value="/dev/Hokuyo"/>
      <param name="frame_id" value="Laser_link"/>
    </node>
    <node name="front_cam_node" output="screen" pkg="usb_cam" respawn="true" type="usb_cam_node">
      <param name="video_device" value="/dev/video0"/>
      <param name="camera_frame_id" value="Front_Camera_link"/>
      <param name="pixel_format" value="yuyv"/>
      <param name="image_width" value="320"/>
      <param name="image_height" value="240"/>
    </node>
    <node name="arm_cam_node" output="screen" pkg="usb_cam" respawn="true" type="usb_cam_node">
      <param name="video_device" value="/dev/video2"/>
      <param name="camera_frame_id" value="Arm_Camera_link"/>
      <param name="pixel_format" value="yuyv"/>
      <param name="image_width" value="320"/>
      <param name="image_height" value="240"/>
    </node>
    <node name="rear_cam_node" output="screen" pkg="usb_cam" respawn="true" type="usb_cam_node">
      <param name="video_device" value="/dev/video1"/>
      <param name="camera_frame_id" value="Rear_Camera_link"/>
      <param name="pixel_format" value="yuyv"/>
      <param name="image_width" value="320"/>
      <param name="image_height" value="240"/>
    </node>
    <node name="top_cam_node" output="screen" pkg="usb_cam" respawn="true" type="usb_cam_node">
      <param name="video_device" value="/dev/video4"/>
      <param name="camera_frame_id" value="Top_Camera_link"/>
      <param name="pixel_format" value="yuyv"/>
      <param name="image_width" value="320"/>
      <param name="image_height" value="240"/>
    </node>
    <include file="$(find komodo_arm_moveit_config)/launch/move_group.launch"/>
    <include file="$(find ric_board)/launch/hector_slam.launch">
      <arg name="tf_map_scanmatch_transform_frame_name" value="scanmatcher_frame"/>
      <arg name="base_frame" value="base_link"/>
      <arg name="odom_frame" value="odom_link"/>
      <arg name="map_frame" value="map"/>
      <arg default="true" name="pub_map_odom_transform"/>
      <arg default="5" name="scan_subscriber_queue_size"/>
      <arg name="scan_topic" value="scan"/>
      <arg default="2048" name="map_size"/>
    </include>
    <rosparam command="load" file="$(find ric_board)/config/komodo_bgu.yaml"/>
  </group>
  <include file="$(find komodo_2dnav)/launch/move_base.launch"/>
</launch>
