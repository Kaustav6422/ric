<?xml version="1.0" ?>
<launch>
  <node name="RiCTraffic" output="screen" pkg="ric_board" type="Start.py" >
  	<remap from="/diff_driver/command" to="/cmd_vel" />
  </node>
  <param command="$(find xacro)/xacro.py '$(find ric_description)/komodo/komodo_no_plugins2.xacro'" name="robot_description"/>
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher"/>
  <include file="$(find openni2_launch)/launch/openni2.launch">
    <arg name="camera" value="Asus_Camera"/>
  </include>
  <node name="front_cam" output="screen" pkg="usb_cam" respawn="true" type="usb_cam_node">
    <param name="video_device" value="/dev/video0"/>
    <param name="camera_frame_id" value="front_cam"/>
    <param name="pixel_format" value="yuyv"/>
    <param name="image_width" value="640"/>
    <param name="image_height" value="480"/>
  </node>
  <node name="arm_cam" output="screen" pkg="usb_cam" respawn="true" type="usb_cam_node">
    <param name="video_device" value="/dev/video1"/>
    <param name="camera_frame_id" value="arm_cam"/>
    <param name="pixel_format" value="yuyv"/>
    <param name="image_width" value="640"/>
    <param name="image_height" value="480"/>
  </node>
  <node name="laser" output="screen" pkg="hokuyo_node" type="hokuyo_node">
    <param name="port" value="/dev/Hokuyo"/>
    <param name="frame_id" value="Laser_link"/>
  </node>
  <include file="$(find ric_robot)/launch/komodo_arm.launch"/>
  <include file="$(find komodo_2dnav)/launch/move_base.launch"/>
  <include file="$(find ric_board)/launch/hector_slam.launch">
    <arg name="tf_map_scanmatch_transform_frame_name" value="scanmatcher_frame"/>
    <arg name="base_frame" value="base_link"/>
    <arg name="odom_frame" value="odom_link"/>
    <arg name="map_frame" value="map"/>
    <arg default="true" name="pub_map_odom_transform"/>
    <arg default="5" name="scan_subscriber_queue_size"/>
    <arg name="scan_topic" value="/scan"/>
    <arg default="2048" name="map_size"/>
  </include>
  <rosparam command="load" file="$(find ric_board)/config/komodo.yaml"/>
</launch>
